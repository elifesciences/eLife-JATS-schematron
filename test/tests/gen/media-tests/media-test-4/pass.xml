<?oxygen SCHSchema="media-test-4.sch"?>
<!--Context: media
Test: report    if ($file='octet-stream') then () else if ($file = 'msword') then not(matches(@xlink:href,'\.doc[x]?$')) else if ($file = 'gif') then not(matches(@xlink:href,'\.mp4$|\.gif$')) else if ($file = 'excel') then not(matches(@xlink:href,'\.xl[s|t|m][x|m|b]?$')) else if ($file='x-m') then not(ends-with(@xlink:href,'.m')) else if ($file='tab-separated-values') then not(ends-with(@xlink:href,'.tsv')) else if ($file='jpeg') then not(matches(@xlink:href,'\.[Jj][Pp][Gg]$')) else if ($file='postscript') then not(matches(@xlink:href,'\.[Aa][Ii]$|\.[Pp][Ss]$')) else if ($file='x-tex') then not(ends-with(@xlink:href,'.tex')) else if ($file='x-gzip') then not(ends-with(@xlink:href,'.gz')) else if ($file='html') then not(ends-with(@xlink:href,'.html')) else if ($file='x-wav') then not(ends-with(@xlink:href,'.wav')) else if ($file='x-aiff') then not(ends-with(@xlink:href,'.aiff')) else if ($file='x-macbinary') then not(ends-with(@xlink:href,'.bin')) else if ($file='x-pdb') then not(ends-with(@xlink:href,'.pdb')) else if ($file='fasta') then not(ends-with(@xlink:href,'.fasta')) else if (@mimetype='text') then not(matches(@xlink:href,'\.txt$|\.py$|\.xml$|\.sh$|\.rtf$|\.c$|\.for$|\.pl$')) else not(ends-with(@xlink:href,concat('.',$file)))
Message: media must have a file reference in @xlink:href which is equivalent to its @mime-subtype. -->
<root xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:mml="http://www.w3.org/1998/Math/MathML" xmlns:ali="http://www.niso.org/schemas/ali/1.0">
  <article>
    <media mimetype="text" mime-subtype="xml" xlink:href="file.xml"/>
  </article>
</root>